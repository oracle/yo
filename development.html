<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Development &#8212; yo v1.10.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=b60e386f"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="_static/yo.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="Optional Features" href="optional_setup.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="development">
<h1>Development<a class="headerlink" href="#development" title="Link to this heading">¶</a></h1>
<p>You can find the source code for yo
<a class="reference external" href="https://github.com/oracle/yo">here</a>. You are welcomed to participate
in its development in many ways:</p>
<ul class="simple">
<li><p>Report bugs via issues</p></li>
<li><p>Submit merge requests with your new features or bug fixes, if you’d like.</p></li>
</ul>
<p>This document contains information about how to get a development environment
set up, and how to do the main development processes.</p>
<section id="environment-setup">
<h2>Environment Setup<a class="headerlink" href="#environment-setup" title="Link to this heading">¶</a></h2>
<p>There are some prerequisite dependencies you should have available on your
system. I develop on my Oracle Linux 9 laptop, but development should be
possible on any suitably recent Linux system (or even macOS) with an appropriate
Python version (3.6 or higher). You’ll need to ensure that <code class="docutils literal notranslate"><span class="pre">~/.local/bin</span></code> is
in your <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> environment variable, and you’ll also want to double check
that standard unix tools such as make, git, cut, and sed are installed.</p>
<p>First, clone the repository (or your fork, if applicable) and install
development tools:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:oracle/yo
<span class="nb">cd</span><span class="w"> </span>yo
make<span class="w"> </span>development
</pre></div>
</div>
<p>This last command will use your system Python 3 (defaults to the command
<code class="docutils literal notranslate"><span class="pre">python3</span></code>, but configurable via <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">PYTHON=python_cmd</span></code>) to install some
tools to your home directory:</p>
<ul class="simple">
<li><p>tox: a Python test runner framework</p></li>
<li><p>pre-commit: a tool for executing code checks and formatters before committing
code.</p></li>
</ul>
<p>Assuming you already had installed yo on this computer, then you should be all
set to begin running it directly from the git checkout, rather than the
installed copy. To run from the git checkout:</p>
<ol class="arabic simple">
<li><p>Ensure that your current directory is the root of the git repository.</p></li>
<li><p>Rather than using the command <code class="docutils literal notranslate"><span class="pre">yo</span></code>, use the command <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">yo</span></code>.
Python will see the yo package in your current working directory, and execute
that instead.</p></li>
</ol>
<section id="editable-install">
<h3>Editable Install<a class="headerlink" href="#editable-install" title="Link to this heading">¶</a></h3>
<p><strong>If you enjoy living on the edge,</strong> then you can set up your system so that
whenever you run <code class="docutils literal notranslate"><span class="pre">yo</span></code>, it always comes from whatever is in your git checkout.
Simply run the following command from the root of the git repo:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># only for those who want to live on the edge:</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span>--editable<span class="w"> </span>.
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note that now, if your development copy has a bug, then yo will be unusable
on your whole system. If you’d prefer not to have this risk, then don’t use
this method!</p>
</div>
</section>
</section>
<section id="building-an-rpm">
<h2>Building an RPM<a class="headerlink" href="#building-an-rpm" title="Link to this heading">¶</a></h2>
<p>Yo has an RPM spec file at <code class="docutils literal notranslate"><span class="pre">buildrpm/yo.spec</span></code>, which can be used to build an
RPM on Oracle Linux 9+, and likely Fedora as well. The RPMs themselves are not
currently officially built or distributed, but they can be built easily. These
instructions are for Oracle Linux 9. Similar instructions will likely work for
Oracle Linux 10, but Oracle Linux 8 does not contain necessary dependencies.</p>
<p>First, install the build requirements:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>oracle-epel-release-el9<span class="w"> </span><span class="se">\</span>
<span class="w">                    </span>oraclelinux-developer-release-el9<span class="w"> </span><span class="se">\</span>
<span class="w">                    </span>pyproject-rpm-macros
sudo<span class="w"> </span>dnf<span class="w"> </span>builddep<span class="w"> </span>-y<span class="w"> </span>buildrpm/yo.spec
</pre></div>
</div>
<p>There are two ways to build the RPM. First is by using the current git tree to
build, and the second is to fetch the latest release from Github and build from
that source.</p>
<p>To use the current git tree, first ensure that all your changes are committed.
The source distribution is built using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">archive</span></code>, so only committed
changes are included. You may also want to update the spec file to tweak the
“Release” value, if you do not have a release tag checked out. Then:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>rpm
</pre></div>
</div>
<p>To download the source tarball from Github and then build:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>buildrpm
spectool<span class="w"> </span>-gS<span class="w"> </span>yo.spec
rpmbuild<span class="w"> </span>--define<span class="w"> </span><span class="s2">&quot;_sourcedir `pwd`&quot;</span><span class="w"> </span>--define<span class="w"> </span><span class="s2">&quot;_topdir `pwd`/tmp&quot;</span><span class="w"> </span>-ba<span class="w"> </span>yo.spec
</pre></div>
</div>
</section>
<section id="creating-and-testing-changes">
<h2>Creating and Testing Changes<a class="headerlink" href="#creating-and-testing-changes" title="Link to this heading">¶</a></h2>
<p>If you want to contribute a change, then make sure you create a fork, and set
that as your git origin. Then, make sure your branch is up to date with
upstream/master, and create a branch to work on your changes.</p>
<p>When you’ve verified your changes work and you’re happy with them, be sure to
run the tests. You should be able to run them simply with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code>. There
are currently only a few tests written, and it would be excellent if you add
tests for your change (see the <code class="docutils literal notranslate"><span class="pre">tests/</span></code> directory). The test framework will
attempt to run the tests on Python versions 3.6-3.10, but it’s ok if you only
have one suitable version installed.</p>
<p>If the tests pass, then you can go ahead and commit your changes. The pre-commit
hooks will verify a few things:</p>
<ol class="arabic simple">
<li><p>Your Python code files should have type annotations for functions and
classes.</p></li>
<li><p>The mypy type checker should verify that there are no invalid operations
based on the declared types. Note that Python type checking is a bit finicky
at this point. If you have any issues with this (the “mypy” pre-commit hook),
please reach out via Github Issue and we’ll try to help you out.</p></li>
<li><p>The black code formatter will automatically reformat your changes to ensure
they meet the existing code style.</p></li>
<li><p>The flake8 static checker will run static checks for low-hanging fruit bugs.</p></li>
</ol>
<p>Some of these hooks will automatically edit your code (leaving unstaged
changes). Review these changes and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> them when you’re satisfied. Other
hooks will simply output error line numbers for you to fix. After one or two
tries, you should satisfy the static checks. If you have too much trouble, you
can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--no-verify</span></code>, but please note that in your merge request
and note what the issue was.</p>
<p>At this point, you can now push your branch up to your Github fork and make a
review request via the UI.</p>
<p>Here’s a checklist for things you may want to include in your changes.</p>
<ul class="simple">
<li><p>If you’ve added a command or CLI flag, be sure to use
<code class="docutils literal notranslate"><span class="pre">scripts/rebuild_docs.py</span></code> to regenerate the command documentation.</p></li>
<li><p>If you’ve added a configuration option, be sure to document it in
<code class="docutils literal notranslate"><span class="pre">doc/guide/configuration.rst</span></code>.</p></li>
<li><p>If your change is user-facing at all (fixing a bug, adding a feature), then
document it in the “Unreleased” section of the <code class="docutils literal notranslate"><span class="pre">CHANGELOG.rst</span></code>.</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/yo.png" alt="Logo of yo"/>
            </a></p>
<h1 class="logo"><a href="index.html">yo</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmds/index.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="optional_setup.html">Optional Features</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#environment-setup">Environment Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-an-rpm">Building an RPM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-and-testing-changes">Creating and Testing Changes</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="optional_setup.html" title="previous chapter">Optional Features</a></li>
      <li>Next: <a href="changelog.html" title="next chapter">Changelog</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2020-2025, Oracle and/or its affiliates.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/development.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>